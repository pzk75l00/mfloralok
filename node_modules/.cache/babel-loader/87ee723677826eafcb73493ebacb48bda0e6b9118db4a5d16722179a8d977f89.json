{"ast":null,"code":"var _jsxFileName = \"C:\\\\Proyectos\\\\Sistema\\\\mfloralok\\\\src\\\\components\\\\SalesView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { collection, addDoc, onSnapshot } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport StatsCard from './StatsCard';\nimport SalesForm from './SalesForm';\nimport { collection as collectionPurchases, onSnapshot as onSnapshotPurchases } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SalesView = ({\n  plants\n}) => {\n  _s();\n  const [sales, setSales] = useState([]);\n  const [purchases, setPurchases] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [loadingPurchases, setLoadingPurchases] = useState(true);\n  useEffect(() => {\n    const unsubscribe = onSnapshot(collection(db, 'sales'), snapshot => {\n      const salesData = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setSales(salesData);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n  useEffect(() => {\n    const unsubscribePurchases = onSnapshotPurchases(collectionPurchases(db, 'purchases'), snapshot => {\n      const purchasesData = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setPurchases(purchasesData);\n      setLoadingPurchases(false);\n    });\n    return () => unsubscribePurchases();\n  }, []);\n  const handleCompleteSale = async saleData => {\n    try {\n      await addDoc(collection(db, 'sales'), saleData);\n    } catch (error) {\n      console.error(\"Error adding sale: \", error);\n    }\n  };\n\n  // Calcular totales por mÃ©todo de pago\n  const totalUnitsSold = sales.reduce((sum, sale) => sum + (Number(sale.quantity) || 0), 0);\n  const totalCash = sales.filter(s => s.paymentMethod === 'efectivo').reduce((sum, sale) => sum + sale.total, 0);\n  const totalMP = sales.filter(s => s.paymentMethod === 'mercadoPago').reduce((sum, sale) => sum + sale.total, 0);\n\n  // Totales del mes actual\n  const now = new Date();\n  const currentMonth = now.getMonth();\n  const currentYear = now.getFullYear();\n  const salesThisMonth = sales.filter(sale => {\n    if (!sale.date) return false;\n    const d = new Date(sale.date);\n    return d.getMonth() === currentMonth && d.getFullYear() === currentYear;\n  });\n  const purchasesThisMonth = purchases.filter(purchase => {\n    if (!purchase.date) return false;\n    const d = new Date(purchase.date);\n    return d.getMonth() === currentMonth && d.getFullYear() === currentYear;\n  });\n  const totalMonthSales = salesThisMonth.reduce((sum, sale) => sum + sale.total, 0);\n  const totalMonthPurchases = purchasesThisMonth.reduce((sum, purchase) => sum + purchase.purchasePrice * purchase.quantity, 0);\n  const totalMonth = totalMonthSales - totalMonthPurchases;\n  const totalMonthMPSales = salesThisMonth.filter(s => s.paymentMethod === 'mercadoPago').reduce((sum, sale) => sum + sale.total, 0);\n  const totalMonthMPPurchases = purchasesThisMonth.filter(p => p.paymentMethod === 'mercadoPago').reduce((sum, purchase) => sum + purchase.purchasePrice * purchase.quantity, 0);\n  const totalMonthMP = totalMonthMPSales - totalMonthMPPurchases;\n  const totalMonthCashSales = salesThisMonth.filter(s => s.paymentMethod === 'efectivo').reduce((sum, sale) => sum + sale.total, 0);\n  const totalMonthCashPurchases = purchasesThisMonth.filter(p => p.paymentMethod === 'efectivo').reduce((sum, purchase) => sum + purchase.purchasePrice * purchase.quantity, 0);\n  const totalMonthCash = totalMonthCashSales - totalMonthCashPurchases;\n  if (loading || loadingPurchases) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Cargando ventas y compras...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 43\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-800\",\n      children: \"Ventas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(StatsCard, {\n        title: \"Productos Vendidos\",\n        value: totalUnitsSold,\n        icon: \"\\uD83D\\uDCE6\",\n        color: \"blue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatsCard, {\n        title: `Ventas ${now.toLocaleString('es-AR', {\n          month: 'long',\n          year: 'numeric'\n        })}`,\n        value: `$${totalMonthSales.toFixed(2)}`,\n        icon: \"\\u2B06\\uFE0F\",\n        color: \"green\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatsCard, {\n        title: `Compras ${now.toLocaleString('es-AR', {\n          month: 'long',\n          year: 'numeric'\n        })}`,\n        value: `$${totalMonthPurchases.toFixed(2)}`,\n        icon: \"\\u2B07\\uFE0F\",\n        color: \"red\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatsCard, {\n        title: `Balance ${now.toLocaleString('es-AR', {\n          month: 'long',\n          year: 'numeric'\n        })}`,\n        value: `$${totalMonth.toFixed(2)}`,\n        icon: \"\\uD83D\\uDCB0\",\n        color: \"green\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatsCard, {\n        title: `Balance MP (${now.toLocaleString('es-AR', {\n          month: 'short'\n        })})`,\n        value: `$${totalMonthMP.toFixed(2)}`,\n        icon: \"\\uD83D\\uDCF1\",\n        color: \"purple\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatsCard, {\n        title: `Balance Efectivo (${now.toLocaleString('es-AR', {\n          month: 'short'\n        })})`,\n        value: `$${totalMonthCash.toFixed(2)}`,\n        icon: \"\\uD83D\\uDCB5\",\n        color: \"green\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(SalesForm, {\n          plants: plants,\n          onCompleteSale: handleCompleteSale\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium mb-4\",\n          children: \"Hist\\xF3rico de Ventas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), sales.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3 max-h-96 overflow-y-auto\",\n          children: sales.slice() // Copia para no mutar el estado\n          .sort((a, b) => new Date(b.date) - new Date(a.date)) // Orden descendente por fecha\n          .map(sale => {\n            var _plants$find;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b pb-2 last:border-b-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: ((_plants$find = plants.find(p => p.id === sale.plantId)) === null || _plants$find === void 0 ? void 0 : _plants$find.name) || 'Planta eliminada'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 text-xs rounded-full ${sale.paymentMethod === 'efectivo' ? 'bg-green-100 text-green-800' : 'bg-purple-100 text-purple-800'}`,\n                  children: sale.paymentMethod === 'efectivo' ? 'E' : 'MP'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [sale.quantity, \" x $\", sale.salePrice, \" = $\", sale.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: [\"Fecha: \", sale.date ? new Date(sale.date).toLocaleString() : '-', sale.location ? ` | Lugar: ${sale.location}` : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this)]\n            }, sale.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"No hay ventas registradas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(SalesView, \"pr5V0sjNQb/z41Uwrw7kAQQQlEY=\");\n_c = SalesView;\nexport default SalesView;\nvar _c;\n$RefreshReg$(_c, \"SalesView\");","map":{"version":3,"names":["React","useState","useEffect","collection","addDoc","onSnapshot","db","StatsCard","SalesForm","collectionPurchases","onSnapshotPurchases","jsxDEV","_jsxDEV","SalesView","plants","_s","sales","setSales","purchases","setPurchases","loading","setLoading","loadingPurchases","setLoadingPurchases","unsubscribe","snapshot","salesData","docs","map","doc","id","data","unsubscribePurchases","purchasesData","handleCompleteSale","saleData","error","console","totalUnitsSold","reduce","sum","sale","Number","quantity","totalCash","filter","s","paymentMethod","total","totalMP","now","Date","currentMonth","getMonth","currentYear","getFullYear","salesThisMonth","date","d","purchasesThisMonth","purchase","totalMonthSales","totalMonthPurchases","purchasePrice","totalMonth","totalMonthMPSales","totalMonthMPPurchases","p","totalMonthMP","totalMonthCashSales","totalMonthCashPurchases","totalMonthCash","children","fileName","_jsxFileName","lineNumber","columnNumber","className","title","value","icon","color","toLocaleString","month","year","toFixed","onCompleteSale","length","slice","sort","a","b","_plants$find","find","plantId","name","salePrice","location","_c","$RefreshReg$"],"sources":["C:/Proyectos/Sistema/mfloralok/src/components/SalesView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { collection, addDoc, onSnapshot } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport StatsCard from './StatsCard';\nimport SalesForm from './SalesForm';\nimport { collection as collectionPurchases, onSnapshot as onSnapshotPurchases } from 'firebase/firestore';\n\nconst SalesView = ({ plants }) => {\n  const [sales, setSales] = useState([]);\n  const [purchases, setPurchases] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [loadingPurchases, setLoadingPurchases] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onSnapshot(collection(db, 'sales'), (snapshot) => {\n      const salesData = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setSales(salesData);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  useEffect(() => {\n    const unsubscribePurchases = onSnapshotPurchases(collectionPurchases(db, 'purchases'), (snapshot) => {\n      const purchasesData = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setPurchases(purchasesData);\n      setLoadingPurchases(false);\n    });\n    return () => unsubscribePurchases();\n  }, []);\n\n  const handleCompleteSale = async (saleData) => {\n    try {\n      await addDoc(collection(db, 'sales'), saleData);\n    } catch (error) {\n      console.error(\"Error adding sale: \", error);\n    }\n  };\n\n  // Calcular totales por mÃ©todo de pago\n  const totalUnitsSold = sales.reduce((sum, sale) => sum + (Number(sale.quantity) || 0), 0);\n  const totalCash = sales.filter(s => s.paymentMethod === 'efectivo')\n                         .reduce((sum, sale) => sum + sale.total, 0);\n  const totalMP = sales.filter(s => s.paymentMethod === 'mercadoPago')\n                      .reduce((sum, sale) => sum + sale.total, 0);\n\n  // Totales del mes actual\n  const now = new Date();\n  const currentMonth = now.getMonth();\n  const currentYear = now.getFullYear();\n  const salesThisMonth = sales.filter(sale => {\n    if (!sale.date) return false;\n    const d = new Date(sale.date);\n    return d.getMonth() === currentMonth && d.getFullYear() === currentYear;\n  });\n  const purchasesThisMonth = purchases.filter(purchase => {\n    if (!purchase.date) return false;\n    const d = new Date(purchase.date);\n    return d.getMonth() === currentMonth && d.getFullYear() === currentYear;\n  });\n  const totalMonthSales = salesThisMonth.reduce((sum, sale) => sum + sale.total, 0);\n  const totalMonthPurchases = purchasesThisMonth.reduce((sum, purchase) => sum + (purchase.purchasePrice * purchase.quantity), 0);\n  const totalMonth = totalMonthSales - totalMonthPurchases;\n  const totalMonthMPSales = salesThisMonth.filter(s => s.paymentMethod === 'mercadoPago').reduce((sum, sale) => sum + sale.total, 0);\n  const totalMonthMPPurchases = purchasesThisMonth.filter(p => p.paymentMethod === 'mercadoPago').reduce((sum, purchase) => sum + (purchase.purchasePrice * purchase.quantity), 0);\n  const totalMonthMP = totalMonthMPSales - totalMonthMPPurchases;\n  const totalMonthCashSales = salesThisMonth.filter(s => s.paymentMethod === 'efectivo').reduce((sum, sale) => sum + sale.total, 0);\n  const totalMonthCashPurchases = purchasesThisMonth.filter(p => p.paymentMethod === 'efectivo').reduce((sum, purchase) => sum + (purchase.purchasePrice * purchase.quantity), 0);\n  const totalMonthCash = totalMonthCashSales - totalMonthCashPurchases;\n\n  if (loading || loadingPurchases) return <div>Cargando ventas y compras...</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-2xl font-bold text-gray-800\">Ventas</h2>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <StatsCard\n          title=\"Productos Vendidos\"\n          value={totalUnitsSold}\n          icon=\"ð¦\"\n          color=\"blue\"\n        />\n        <StatsCard\n          title={`Ventas ${now.toLocaleString('es-AR', { month: 'long', year: 'numeric' })}`}\n          value={`$${totalMonthSales.toFixed(2)}`}\n          icon=\"â¬ï¸\"\n          color=\"green\"\n        />\n        <StatsCard\n          title={`Compras ${now.toLocaleString('es-AR', { month: 'long', year: 'numeric' })}`}\n          value={`$${totalMonthPurchases.toFixed(2)}`}\n          icon=\"â¬ï¸\"\n          color=\"red\"\n        />\n        <StatsCard\n          title={`Balance ${now.toLocaleString('es-AR', { month: 'long', year: 'numeric' })}`}\n          value={`$${totalMonth.toFixed(2)}`}\n          icon=\"ð°\"\n          color=\"green\"\n        />\n        <StatsCard\n          title={`Balance MP (${now.toLocaleString('es-AR', { month: 'short' })})`}\n          value={`$${totalMonthMP.toFixed(2)}`}\n          icon=\"ð±\"\n          color=\"purple\"\n        />\n        <StatsCard\n          title={`Balance Efectivo (${now.toLocaleString('es-AR', { month: 'short' })})`}\n          value={`$${totalMonthCash.toFixed(2)}`}\n          icon=\"ðµ\"\n          color=\"green\"\n        />\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <div>\n          <SalesForm plants={plants} onCompleteSale={handleCompleteSale} />\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"text-lg font-medium mb-4\">HistÃ³rico de Ventas</h3>\n          {sales.length > 0 ? (\n            <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n              {sales\n                .slice() // Copia para no mutar el estado\n                .sort((a, b) => new Date(b.date) - new Date(a.date)) // Orden descendente por fecha\n                .map((sale) => (\n                <div key={sale.id} className=\"border-b pb-2 last:border-b-0\">\n                  <div className=\"flex justify-between\">\n                    <p className=\"font-medium\">\n                      {plants.find(p => p.id === sale.plantId)?.name || 'Planta eliminada'}\n                    </p>\n                    <span className={`px-2 py-1 text-xs rounded-full ${\n                      sale.paymentMethod === 'efectivo' ? 'bg-green-100 text-green-800' : 'bg-purple-100 text-purple-800'\n                    }`}>\n                      {sale.paymentMethod === 'efectivo' ? 'E' : 'MP'}\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-gray-600\">\n                    {sale.quantity} x ${sale.salePrice} = ${sale.total}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">\n                    Fecha: {sale.date ? new Date(sale.date).toLocaleString() : '-'}\n                    {sale.location ? ` | Lugar: ${sale.location}` : ''}\n                  </p>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-gray-500\">No hay ventas registradas</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SalesView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}