{"ast":null,"code":"var _jsxFileName = \"C:\\\\Proyectos\\\\Sistema\\\\mfloralok\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { collection, onSnapshot } from 'firebase/firestore';\nimport { db } from './firebaseConfig';\nimport salesData from './mock/sales';\nimport purchasesData from './mock/purchases';\nimport PlantsView from './components/PlantsView';\nimport SalesView from './components/SalesView';\nimport { PurchasesView } from './components/PurchasesView';\nimport StatsView from './components/StatsView'; // ¡Este import faltaba!\nimport Navigation from './components/Navigation';\nimport MovementsView from './components/MovementsView';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [currentView, setCurrentView] = useState('plants');\n  const [plants, setPlants] = useState([]);\n  const [sales, setSales] = useState([]);\n  const [purchases, setPurchases] = useState([]);\n\n  // Cargar plantas desde Firestore\n  useEffect(() => {\n    const unsubscribe = onSnapshot(collection(db, 'plants'), snapshot => {\n      const plantsFromFirestore = snapshot.docs.map(doc => ({\n        id: Number(doc.id),\n        // Asegura que el id sea número\n        ...doc.data()\n      }));\n      setPlants(plantsFromFirestore);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Guardar datos cuando cambian\n  useEffect(() => {\n    localStorage.setItem('sales', JSON.stringify(sales));\n  }, [sales]);\n  useEffect(() => {\n    localStorage.setItem('purchases', JSON.stringify(purchases));\n  }, [purchases]);\n  const handleAddPlant = newPlant => {\n    const plantWithId = {\n      ...newPlant,\n      id: Math.max(0, ...plants.map(p => p.id)) + 1\n    };\n    setPlants([...plants, plantWithId]);\n  };\n  const handleUpdatePlant = updatedPlant => {\n    setPlants(plants.map(p => p.id === updatedPlant.id ? updatedPlant : p));\n  };\n  const handleDeletePlant = plantId => {\n    setPlants(plants.filter(p => p.id !== plantId));\n  };\n  const handleCompleteSale = newSale => {\n    // Actualizar stock\n    const updatedPlants = plants.map(p => {\n      if (p.id === newSale.plantId) {\n        return {\n          ...p,\n          stock: p.stock - newSale.quantity\n        };\n      }\n      return p;\n    });\n    setPlants(updatedPlants);\n    setSales([...sales, newSale]);\n  };\n  const handleCompletePurchase = newPurchase => {\n    // Actualizar stock\n    const updatedPlants = plants.map(p => {\n      if (p.id === newPurchase.plantId) {\n        return {\n          ...p,\n          stock: p.stock + newPurchase.quantity\n        };\n      }\n      return p;\n    });\n    setPlants(updatedPlants);\n    setPurchases([...purchases, newPurchase]);\n  };\n  const renderView = () => {\n    switch (currentView) {\n      case 'plants':\n        return /*#__PURE__*/_jsxDEV(PlantsView, {\n          plants: plants,\n          onAddPlant: handleAddPlant,\n          onUpdatePlant: handleUpdatePlant,\n          onDeletePlant: handleDeletePlant\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this);\n      case 'movements':\n        return /*#__PURE__*/_jsxDEV(MovementsView, {\n          plants: plants\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this);\n      case 'stats':\n        return /*#__PURE__*/_jsxDEV(StatsView, {\n          plants: plants,\n          sales: sales,\n          purchases: purchases\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Vista no encontrada\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-4 md:p-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto space-y-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-green-700\",\n          children: \"GreenThumb Manager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Sistema de gesti\\xF3n para tu vivero digital\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navigation, {\n        currentView: currentView,\n        setCurrentView: setCurrentView\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"bg-white rounded-xl shadow-sm p-6\",\n        children: renderView()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"fSMCj3aLQ4go3PmGinfQzE21DYM=\");\n_c = App;\nexport default App;\n\n// DONE\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","collection","onSnapshot","db","salesData","purchasesData","PlantsView","SalesView","PurchasesView","StatsView","Navigation","MovementsView","jsxDEV","_jsxDEV","App","_s","currentView","setCurrentView","plants","setPlants","sales","setSales","purchases","setPurchases","unsubscribe","snapshot","plantsFromFirestore","docs","map","doc","id","Number","data","localStorage","setItem","JSON","stringify","handleAddPlant","newPlant","plantWithId","Math","max","p","handleUpdatePlant","updatedPlant","handleDeletePlant","plantId","filter","handleCompleteSale","newSale","updatedPlants","stock","quantity","handleCompletePurchase","newPurchase","renderView","onAddPlant","onUpdatePlant","onDeletePlant","fileName","_jsxFileName","lineNumber","columnNumber","children","className","_c","$RefreshReg$"],"sources":["C:/Proyectos/Sistema/mfloralok/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { collection, onSnapshot } from 'firebase/firestore';\nimport { db } from './firebaseConfig';\nimport salesData from './mock/sales';\nimport purchasesData from './mock/purchases';\nimport PlantsView from './components/PlantsView';\nimport SalesView from './components/SalesView';\nimport { PurchasesView } from './components/PurchasesView';\nimport StatsView from './components/StatsView'; // ¡Este import faltaba!\nimport Navigation from './components/Navigation';\nimport MovementsView from './components/MovementsView';\n\nconst App = () => {\n  const [currentView, setCurrentView] = useState('plants');\n  const [plants, setPlants] = useState([]);\n  const [sales, setSales] = useState([]);\n  const [purchases, setPurchases] = useState([]);\n\n  // Cargar plantas desde Firestore\n  useEffect(() => {\n    const unsubscribe = onSnapshot(collection(db, 'plants'), (snapshot) => {\n      const plantsFromFirestore = snapshot.docs.map(doc => ({\n        id: Number(doc.id), // Asegura que el id sea número\n        ...doc.data()\n      }));\n      setPlants(plantsFromFirestore);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Guardar datos cuando cambian\n  useEffect(() => {\n    localStorage.setItem('sales', JSON.stringify(sales));\n  }, [sales]);\n\n  useEffect(() => {\n    localStorage.setItem('purchases', JSON.stringify(purchases));\n  }, [purchases]);\n\n  const handleAddPlant = (newPlant) => {\n    const plantWithId = {\n      ...newPlant,\n      id: Math.max(0, ...plants.map(p => p.id)) + 1\n    };\n    setPlants([...plants, plantWithId]);\n  };\n\n  const handleUpdatePlant = (updatedPlant) => {\n    setPlants(plants.map(p => p.id === updatedPlant.id ? updatedPlant : p));\n  };\n\n  const handleDeletePlant = (plantId) => {\n    setPlants(plants.filter(p => p.id !== plantId));\n  };\n\n  const handleCompleteSale = (newSale) => {\n    // Actualizar stock\n    const updatedPlants = plants.map(p => {\n      if (p.id === newSale.plantId) {\n        return { ...p, stock: p.stock - newSale.quantity };\n      }\n      return p;\n    });\n    \n    setPlants(updatedPlants);\n    setSales([...sales, newSale]);\n  };\n\n  const handleCompletePurchase = (newPurchase) => {\n    // Actualizar stock\n    const updatedPlants = plants.map(p => {\n      if (p.id === newPurchase.plantId) {\n        return { ...p, stock: p.stock + newPurchase.quantity };\n      }\n      return p;\n    });\n    \n    setPlants(updatedPlants);\n    setPurchases([...purchases, newPurchase]);\n  };\n\n  const renderView = () => {\n    switch (currentView) {\n      case 'plants':\n        return (\n          <PlantsView\n            plants={plants}\n            onAddPlant={handleAddPlant}\n            onUpdatePlant={handleUpdatePlant}\n            onDeletePlant={handleDeletePlant}\n          />\n        );\n      case 'movements':\n        return (\n          <MovementsView\n            plants={plants}\n          />\n        );\n      case 'stats':\n        return (\n          <StatsView\n            plants={plants}\n            sales={sales}\n            purchases={purchases}\n          />\n        );\n      default:\n        return <div>Vista no encontrada</div>;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-4 md:p-8\">\n      <div className=\"max-w-6xl mx-auto space-y-8\">\n        <header className=\"text-center\">\n          <h1 className=\"text-3xl font-bold text-green-700\">GreenThumb Manager</h1>\n          <p className=\"text-gray-600\">Sistema de gestión para tu vivero digital</p>\n        </header>\n        \n        <Navigation currentView={currentView} setCurrentView={setCurrentView} />\n        <main className=\"bg-white rounded-xl shadow-sm p-6\">\n          {renderView()}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n\n// DONE"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}