{"ast":null,"code":"var _jsxFileName = \"C:\\\\Proyectos\\\\Sistema\\\\mfloralok\\\\src\\\\components\\\\MovementsView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { collection, addDoc, onSnapshot } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport PlantForm from './PlantForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MOVEMENT_TYPES = [{\n  value: 'venta',\n  label: 'Venta'\n}, {\n  value: 'compra',\n  label: 'Compra'\n}, {\n  value: 'ingreso',\n  label: 'Ingreso'\n}, {\n  value: 'egreso',\n  label: 'Egreso'\n}];\nconst PAYMENT_METHODS = [{\n  value: 'efectivo',\n  label: 'Efectivo (E)'\n}, {\n  value: 'mercadoPago',\n  label: 'Mercado Pago (MP)'\n}];\nconst MovementsView = ({\n  plants\n}) => {\n  _s();\n  var _form$date;\n  const [movements, setMovements] = useState([]);\n  const [form, setForm] = useState({\n    type: 'venta',\n    detail: '',\n    plantId: '',\n    quantity: 1,\n    price: '',\n    total: '',\n    paymentMethod: 'efectivo',\n    date: new Date().toISOString().slice(0, 16),\n    location: '',\n    notes: ''\n  });\n  const [showSuggestPlant, setShowSuggestPlant] = useState(false);\n  const [suggestedPlantName, setSuggestedPlantName] = useState('');\n  const [showPlantForm, setShowPlantForm] = useState(false);\n  useEffect(() => {\n    const unsubscribe = onSnapshot(collection(db, 'movements'), snapshot => {\n      const data = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMovements(data.sort((a, b) => new Date(b.date) - new Date(a.date)));\n    });\n    return () => unsubscribe();\n  }, []);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let total = form.total;\n    if (!total && form.price && form.quantity) {\n      total = Number(form.price) * Number(form.quantity);\n    }\n    await addDoc(collection(db, 'movements'), {\n      ...form,\n      quantity: Number(form.quantity),\n      price: Number(form.price),\n      total: Number(total),\n      date: new Date(form.date).toISOString()\n    });\n    // Sugerir alta de planta si corresponde\n    if ((form.type === 'venta' || form.type === 'compra') && !form.plantId && form.detail) {\n      setSuggestedPlantName(form.detail);\n      setShowSuggestPlant(true);\n    }\n    setForm({\n      type: 'venta',\n      detail: '',\n      plantId: '',\n      quantity: 1,\n      price: '',\n      total: '',\n      paymentMethod: 'efectivo',\n      date: new Date().toISOString().slice(0, 16),\n      location: '',\n      notes: ''\n    });\n  };\n\n  // --- FILTRO MENSUAL ---\n  const now = new Date();\n  const currentMonth = now.getMonth();\n  const currentYear = now.getFullYear();\n  const movementsThisMonth = movements.filter(mov => {\n    if (!mov.date) return false;\n    const d = new Date(mov.date);\n    return d.getMonth() === currentMonth && d.getFullYear() === currentYear;\n  });\n\n  // --- TOTALES DEL MES ---\n  const totalVentasMes = movementsThisMonth.filter(m => m.type === 'venta').reduce((sum, m) => sum + (m.total || 0), 0);\n  const totalComprasMes = movementsThisMonth.filter(m => m.type === 'compra').reduce((sum, m) => sum + (m.total || 0), 0);\n  const totalIngresosMes = movementsThisMonth.filter(m => m.type === 'ingreso').reduce((sum, m) => sum + (m.total || 0), 0);\n  const totalEgresosMes = movementsThisMonth.filter(m => m.type === 'egreso').reduce((sum, m) => sum + (m.total || 0), 0);\n  const productosVendidosMes = movementsThisMonth.filter(m => m.type === 'venta').reduce((sum, m) => sum + (Number(m.quantity) || 0), 0);\n\n  // Render sugerencia de alta de planta\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-800\",\n      children: [\"Movimientos de Caja - \", now.toLocaleString('es-AR', {\n        month: 'long',\n        year: 'numeric'\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 rounded p-2 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Ventas del mes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-bold text-green-700\",\n          children: [\"$\", totalVentasMes.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 rounded p-2 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Compras del mes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-bold text-red-700\",\n          children: [\"$\", totalComprasMes.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 rounded p-2 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Ingresos del mes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-bold text-blue-700\",\n          children: [\"$\", totalIngresosMes.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-yellow-50 rounded p-2 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Egresos del mes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-bold text-yellow-700\",\n          children: [\"$\", totalEgresosMes.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 rounded p-2 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: \"Productos vendidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-bold text-gray-700\",\n          children: productosVendidosMes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"bg-white p-4 rounded-lg shadow space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Tipo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"type\",\n            value: form.type,\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            children: MOVEMENT_TYPES.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: opt.value,\n              children: opt.label\n            }, opt.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 42\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Detalle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"detail\",\n            value: form.detail,\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), (form.type === 'venta' || form.type === 'compra') && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Planta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"plantId\",\n            value: form.plantId,\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecciona una planta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this), plants && plants.slice().sort((a, b) => a.name.localeCompare(b.name)).map(plant => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: plant.id,\n              children: plant.name\n            }, plant.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), (form.type === 'venta' || form.type === 'compra') && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Cantidad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"quantity\",\n            min: \"1\",\n            value: form.quantity,\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Precio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"price\",\n            min: \"0\",\n            value: form.price,\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"total\",\n            min: \"0\",\n            value: form.total,\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            placeholder: \"Se calcula autom\\xE1ticamente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"M\\xE9todo de Pago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"paymentMethod\",\n            value: form.paymentMethod,\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\",\n            children: PAYMENT_METHODS.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: opt.value,\n              children: opt.label\n            }, opt.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 43\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Fecha\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"date\",\n            value: ((_form$date = form.date) === null || _form$date === void 0 ? void 0 : _form$date.slice(0, 10)) || '',\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Lugar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"location\",\n            value: form.location,\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Notas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"notes\",\n            value: form.notes,\n            onChange: handleChange,\n            className: \"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"mt-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\",\n        children: \"Registrar Movimiento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), showSuggestPlant && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-yellow-100 border-l-4 border-yellow-500 p-4 rounded mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-2\",\n        children: [\"\\xBFDeseas agregar \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: suggestedPlantName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 47\n        }, this), \" como nueva planta al inventario?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 mr-2\",\n        onClick: () => {\n          setShowPlantForm(true);\n          setShowSuggestPlant(false);\n        },\n        children: \"S\\xED, agregar planta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400\",\n        onClick: () => setShowSuggestPlant(false),\n        children: \"No, gracias\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }, this), showPlantForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-lg shadow mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-bold mb-2\",\n        children: \"Nueva Planta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PlantForm, {\n        initialData: {\n          name: suggestedPlantName,\n          basePrice: '',\n          purchasePrice: '',\n          stock: '',\n          type: 'interior'\n        },\n        onSubmit: () => {\n          setShowPlantForm(false);\n        },\n        onCancel: () => setShowPlantForm(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6 mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium mb-4\",\n        children: \"Hist\\xF3rico de Movimientos del Mes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto max-h-96 overflow-y-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200 text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"Tipo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"Detalle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"Planta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"Cantidad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"Precio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"M\\xE9todo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"Lugar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-2 py-1\",\n                children: \"Notas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: movementsThisMonth.map(mov => {\n              var _MOVEMENT_TYPES$find, _plants$find, _PAYMENT_METHODS$find;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: mov.type === 'compra' ? 'bg-red-50' : mov.type === 'egreso' ? 'bg-yellow-50' : mov.type === 'ingreso' ? 'bg-green-50' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1\",\n                  children: mov.date ? new Date(mov.date).toLocaleDateString() : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1\",\n                  children: ((_MOVEMENT_TYPES$find = MOVEMENT_TYPES.find(t => t.value === mov.type)) === null || _MOVEMENT_TYPES$find === void 0 ? void 0 : _MOVEMENT_TYPES$find.label) || mov.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1\",\n                  children: mov.detail\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1\",\n                  children: plants && mov.plantId ? ((_plants$find = plants.find(p => p.id === Number(mov.plantId))) === null || _plants$find === void 0 ? void 0 : _plants$find.name) || '-' : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1 text-right\",\n                  children: mov.type === 'venta' || mov.type === 'compra' ? mov.quantity : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1 text-right\",\n                  children: mov.price ? `$${mov.price}` : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1 text-right\",\n                  children: mov.total ? `$${mov.total}` : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1\",\n                  children: ((_PAYMENT_METHODS$find = PAYMENT_METHODS.find(m => m.value === mov.paymentMethod)) === null || _PAYMENT_METHODS$find === void 0 ? void 0 : _PAYMENT_METHODS$find.label) || mov.paymentMethod\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1\",\n                  children: mov.location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-2 py-1\",\n                  children: mov.notes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this)]\n              }, mov.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(MovementsView, \"w7MpT2zLrH2AqBfBcv44gcYjnp8=\");\n_c = MovementsView;\nexport default MovementsView;\nvar _c;\n$RefreshReg$(_c, \"MovementsView\");","map":{"version":3,"names":["React","useState","useEffect","collection","addDoc","onSnapshot","db","PlantForm","jsxDEV","_jsxDEV","MOVEMENT_TYPES","value","label","PAYMENT_METHODS","MovementsView","plants","_s","_form$date","movements","setMovements","form","setForm","type","detail","plantId","quantity","price","total","paymentMethod","date","Date","toISOString","slice","location","notes","showSuggestPlant","setShowSuggestPlant","suggestedPlantName","setSuggestedPlantName","showPlantForm","setShowPlantForm","unsubscribe","snapshot","data","docs","map","doc","id","sort","a","b","handleChange","e","name","target","prev","handleSubmit","preventDefault","Number","now","currentMonth","getMonth","currentYear","getFullYear","movementsThisMonth","filter","mov","d","totalVentasMes","m","reduce","sum","totalComprasMes","totalIngresosMes","totalEgresosMes","productosVendidosMes","className","children","toLocaleString","month","year","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","onSubmit","onChange","opt","localeCompare","plant","min","placeholder","onClick","initialData","basePrice","purchasePrice","stock","onCancel","_MOVEMENT_TYPES$find","_plants$find","_PAYMENT_METHODS$find","toLocaleDateString","find","t","p","_c","$RefreshReg$"],"sources":["C:/Proyectos/Sistema/mfloralok/src/components/MovementsView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { collection, addDoc, onSnapshot } from 'firebase/firestore';\r\nimport { db } from '../firebaseConfig';\r\nimport PlantForm from './PlantForm';\r\n\r\nconst MOVEMENT_TYPES = [\r\n  { value: 'venta', label: 'Venta' },\r\n  { value: 'compra', label: 'Compra' },\r\n  { value: 'ingreso', label: 'Ingreso' },\r\n  { value: 'egreso', label: 'Egreso' }\r\n];\r\n\r\nconst PAYMENT_METHODS = [\r\n  { value: 'efectivo', label: 'Efectivo (E)' },\r\n  { value: 'mercadoPago', label: 'Mercado Pago (MP)' }\r\n];\r\n\r\nconst MovementsView = ({ plants }) => {\r\n  const [movements, setMovements] = useState([]);\r\n  const [form, setForm] = useState({\r\n    type: 'venta',\r\n    detail: '',\r\n    plantId: '',\r\n    quantity: 1,\r\n    price: '',\r\n    total: '',\r\n    paymentMethod: 'efectivo',\r\n    date: new Date().toISOString().slice(0, 16),\r\n    location: '',\r\n    notes: ''\r\n  });\r\n  const [showSuggestPlant, setShowSuggestPlant] = useState(false);\r\n  const [suggestedPlantName, setSuggestedPlantName] = useState('');\r\n  const [showPlantForm, setShowPlantForm] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(collection(db, 'movements'), (snapshot) => {\r\n      const data = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n      setMovements(data.sort((a, b) => new Date(b.date) - new Date(a.date)));\r\n    });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    let total = form.total;\r\n    if (!total && form.price && form.quantity) {\r\n      total = Number(form.price) * Number(form.quantity);\r\n    }\r\n    await addDoc(collection(db, 'movements'), {\r\n      ...form,\r\n      quantity: Number(form.quantity),\r\n      price: Number(form.price),\r\n      total: Number(total),\r\n      date: new Date(form.date).toISOString()\r\n    });\r\n    // Sugerir alta de planta si corresponde\r\n    if ((form.type === 'venta' || form.type === 'compra') && !form.plantId && form.detail) {\r\n      setSuggestedPlantName(form.detail);\r\n      setShowSuggestPlant(true);\r\n    }\r\n    setForm({\r\n      type: 'venta',\r\n      detail: '',\r\n      plantId: '',\r\n      quantity: 1,\r\n      price: '',\r\n      total: '',\r\n      paymentMethod: 'efectivo',\r\n      date: new Date().toISOString().slice(0, 16),\r\n      location: '',\r\n      notes: ''\r\n    });\r\n  };\r\n\r\n  // --- FILTRO MENSUAL ---\r\n  const now = new Date();\r\n  const currentMonth = now.getMonth();\r\n  const currentYear = now.getFullYear();\r\n  const movementsThisMonth = movements.filter(mov => {\r\n    if (!mov.date) return false;\r\n    const d = new Date(mov.date);\r\n    return d.getMonth() === currentMonth && d.getFullYear() === currentYear;\r\n  });\r\n\r\n  // --- TOTALES DEL MES ---\r\n  const totalVentasMes = movementsThisMonth.filter(m => m.type === 'venta').reduce((sum, m) => sum + (m.total || 0), 0);\r\n  const totalComprasMes = movementsThisMonth.filter(m => m.type === 'compra').reduce((sum, m) => sum + (m.total || 0), 0);\r\n  const totalIngresosMes = movementsThisMonth.filter(m => m.type === 'ingreso').reduce((sum, m) => sum + (m.total || 0), 0);\r\n  const totalEgresosMes = movementsThisMonth.filter(m => m.type === 'egreso').reduce((sum, m) => sum + (m.total || 0), 0);\r\n  const productosVendidosMes = movementsThisMonth.filter(m => m.type === 'venta').reduce((sum, m) => sum + (Number(m.quantity) || 0), 0);\r\n\r\n  // Render sugerencia de alta de planta\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-2xl font-bold text-gray-800\">Movimientos de Caja - {now.toLocaleString('es-AR', { month: 'long', year: 'numeric' })}</h2>\r\n      <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4\">\r\n        <div className=\"bg-green-50 rounded p-2 text-center\">\r\n          <div className=\"text-xs text-gray-500\">Ventas del mes</div>\r\n          <div className=\"text-lg font-bold text-green-700\">${totalVentasMes.toFixed(2)}</div>\r\n        </div>\r\n        <div className=\"bg-red-50 rounded p-2 text-center\">\r\n          <div className=\"text-xs text-gray-500\">Compras del mes</div>\r\n          <div className=\"text-lg font-bold text-red-700\">${totalComprasMes.toFixed(2)}</div>\r\n        </div>\r\n        <div className=\"bg-blue-50 rounded p-2 text-center\">\r\n          <div className=\"text-xs text-gray-500\">Ingresos del mes</div>\r\n          <div className=\"text-lg font-bold text-blue-700\">${totalIngresosMes.toFixed(2)}</div>\r\n        </div>\r\n        <div className=\"bg-yellow-50 rounded p-2 text-center\">\r\n          <div className=\"text-xs text-gray-500\">Egresos del mes</div>\r\n          <div className=\"text-lg font-bold text-yellow-700\">${totalEgresosMes.toFixed(2)}</div>\r\n        </div>\r\n        <div className=\"bg-gray-50 rounded p-2 text-center\">\r\n          <div className=\"text-xs text-gray-500\">Productos vendidos</div>\r\n          <div className=\"text-lg font-bold text-gray-700\">{productosVendidosMes}</div>\r\n        </div>\r\n      </div>\r\n      <form onSubmit={handleSubmit} className=\"bg-white p-4 rounded-lg shadow space-y-4\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Tipo</label>\r\n            <select name=\"type\" value={form.type} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\">\r\n              {MOVEMENT_TYPES.map(opt => <option key={opt.value} value={opt.value}>{opt.label}</option>)}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Detalle</label>\r\n            <input name=\"detail\" value={form.detail} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\" />\r\n          </div>\r\n          {(form.type === 'venta' || form.type === 'compra') && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Planta</label>\r\n              <select name=\"plantId\" value={form.plantId} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\">\r\n                <option value=\"\">Selecciona una planta</option>\r\n                {plants && plants.slice().sort((a, b) => a.name.localeCompare(b.name)).map(plant => (\r\n                  <option key={plant.id} value={plant.id}>{plant.name}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n          {(form.type === 'venta' || form.type === 'compra') && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Cantidad</label>\r\n              <input type=\"number\" name=\"quantity\" min=\"1\" value={form.quantity} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\" />\r\n            </div>\r\n          )}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Precio</label>\r\n            <input type=\"number\" name=\"price\" min=\"0\" value={form.price} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Total</label>\r\n            <input type=\"number\" name=\"total\" min=\"0\" value={form.total} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\" placeholder=\"Se calcula automáticamente\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Método de Pago</label>\r\n            <select name=\"paymentMethod\" value={form.paymentMethod} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\">\r\n              {PAYMENT_METHODS.map(opt => <option key={opt.value} value={opt.value}>{opt.label}</option>)}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Fecha</label>\r\n            <input type=\"date\" name=\"date\" value={form.date?.slice(0,10) || ''} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Lugar</label>\r\n            <input name=\"location\" value={form.location} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\" />\r\n          </div>\r\n          <div className=\"md:col-span-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700\">Notas</label>\r\n            <input name=\"notes\" value={form.notes} onChange={handleChange} className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2\" />\r\n          </div>\r\n        </div>\r\n        <button type=\"submit\" className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\">Registrar Movimiento</button>\r\n      </form>\r\n      {showSuggestPlant && (\r\n        <div className=\"bg-yellow-100 border-l-4 border-yellow-500 p-4 rounded mb-4\">\r\n          <p className=\"mb-2\">¿Deseas agregar <b>{suggestedPlantName}</b> como nueva planta al inventario?</p>\r\n          <button\r\n            className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 mr-2\"\r\n            onClick={() => { setShowPlantForm(true); setShowSuggestPlant(false); }}\r\n          >\r\n            Sí, agregar planta\r\n          </button>\r\n          <button\r\n            className=\"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400\"\r\n            onClick={() => setShowSuggestPlant(false)}\r\n          >\r\n            No, gracias\r\n          </button>\r\n        </div>\r\n      )}\r\n      {showPlantForm && (\r\n        <div className=\"bg-white p-4 rounded-lg shadow mb-4\">\r\n          <h3 className=\"text-lg font-bold mb-2\">Nueva Planta</h3>\r\n          <PlantForm\r\n            initialData={{ name: suggestedPlantName, basePrice: '', purchasePrice: '', stock: '', type: 'interior' }}\r\n            onSubmit={() => { setShowPlantForm(false); }}\r\n            onCancel={() => setShowPlantForm(false)}\r\n          />\r\n        </div>\r\n      )}\r\n      <div className=\"bg-white rounded-lg shadow p-6 mt-6\">\r\n        <h3 className=\"text-lg font-medium mb-4\">Histórico de Movimientos del Mes</h3>\r\n        <div className=\"overflow-x-auto max-h-96 overflow-y-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200 text-xs\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-2 py-1\">Fecha</th>\r\n                <th className=\"px-2 py-1\">Tipo</th>\r\n                <th className=\"px-2 py-1\">Detalle</th>\r\n                <th className=\"px-2 py-1\">Planta</th>\r\n                <th className=\"px-2 py-1\">Cantidad</th>\r\n                <th className=\"px-2 py-1\">Precio</th>\r\n                <th className=\"px-2 py-1\">Total</th>\r\n                <th className=\"px-2 py-1\">Método</th>\r\n                <th className=\"px-2 py-1\">Lugar</th>\r\n                <th className=\"px-2 py-1\">Notas</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {movementsThisMonth.map(mov => (\r\n                <tr key={mov.id} className={mov.type === 'compra' ? 'bg-red-50' : mov.type === 'egreso' ? 'bg-yellow-50' : mov.type === 'ingreso' ? 'bg-green-50' : ''}>\r\n                  <td className=\"px-2 py-1\">{mov.date ? new Date(mov.date).toLocaleDateString() : ''}</td>\r\n                  <td className=\"px-2 py-1\">{MOVEMENT_TYPES.find(t => t.value === mov.type)?.label || mov.type}</td>\r\n                  <td className=\"px-2 py-1\">{mov.detail}</td>\r\n                  <td className=\"px-2 py-1\">{plants && mov.plantId ? (plants.find(p => p.id === Number(mov.plantId))?.name || '-') : '-'}</td>\r\n                  <td className=\"px-2 py-1 text-right\">\r\n                    {(mov.type === 'venta' || mov.type === 'compra') ? mov.quantity : ''}\r\n                  </td>\r\n                  <td className=\"px-2 py-1 text-right\">{mov.price ? `$${mov.price}` : ''}</td>\r\n                  <td className=\"px-2 py-1 text-right\">{mov.total ? `$${mov.total}` : ''}</td>\r\n                  <td className=\"px-2 py-1\">{PAYMENT_METHODS.find(m => m.value === mov.paymentMethod)?.label || mov.paymentMethod}</td>\r\n                  <td className=\"px-2 py-1\">{mov.location}</td>\r\n                  <td className=\"px-2 py-1\">{mov.notes}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovementsView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}